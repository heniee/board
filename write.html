<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="/css/main.css">   
    <script src="/script/main.js"></script>

</head>
<body>
    <div id="page">
        <header></header>
        <nav></nav>
        <div id="main">
            <aside></aside>
            <section>
                <form id="write_form">
                    글쓴이: <br><input type="text" name="writer" placeholder="아이디는 필수 입력입니다"><br>
                    제목:<br><input type="text" name="title" placeholder="제목은 필수 입력입니다"><br>
                    사진:<br><input type="file" name="attachment"><br>
                    내용:<br><input text type="text" name="content"><br>
                    <button id="write" type="button">글쓰기</button>
                </form>

            </section>
        </div>
        <footer></footer>
    </div> 
    <script>
        $('#write').click(async function(){
            const formData = new FormData(document.querySelector('#write_form'));
            await $.ajax({
                url:"http://192.168.0.34:8081/board/new",
                method:"post",
                data:formData,
                processData:false,
                contentType:false
            });
            location.href= "/list.html";
        })

        $(document).ready(function(){
            init();
        })
    </script>   

</body>
</html>